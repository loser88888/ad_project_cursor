---
description: Project master plan, overview, and technology stack selection.
globs: README.md, package.json
---
# 模块 0: 项目总览与技术栈

## ⚠️ 重要提示

**在开始任何开发工作前，请务必：**
1. 仔细阅读 `ARCHITECTURE.md`，理解前后端运转形式和接口规范
2. 查看参考网站 https://www.smallfighter.cn/cidProduct.html，了解 UI 设计要求
3. 确保每个模块的前后端接口严格对齐（参数名、类型、返回值结构）
4. UI 样式尽量对齐参考网站的设计风格

## 一、项目概述与技术栈选择

### 1.1 项目背景

买量小飞机（参考网站：https://www.smallfighter.cn/cidProduct.html）是广州小飞信息科技有限公司开发的一站式智能投放工具，主要功能包括：

- **Click-ID 技术服务**：实现点击ID与订单ID精准1:1归因，归因精准度高达100%
- **一站式资源管理**：统一管理客户、渠道、广告账户、商品、素材等多个资源
- **数据&效果监控**：提供数据概览、CID报表、素材报表、自动时报等数据报表
- **广告推广管理**：支持批量操作和自定义筛选，实现不同投放平台下广告计划的统一管理
- **批量评论管理**：提供抖音控评操作，无需切换账户即可批量控评
- **订单明细查询**：数据真实可靠，回传高效稳定

本指南将指导您使用 Vue.js（前端）+ Egg.js（后端）+ MongoDB（数据库）技术栈复刻实现这一网页应用。

### 1.2 参考网站分析

**目标网站**：https://www.smallfighter.cn/cidProduct.html

**UI 设计要求**：
- **主色调**：蓝色系（参考网站主题色）
- **布局风格**：现代化卡片式布局，清晰的层次结构
- **组件库**：使用 Element Plus，保持风格统一
- **交互体验**：流畅的动画效果，友好的用户提示
- **响应式设计**：支持不同屏幕尺寸适配

### 1.3 技术栈选择

**前端技术栈**：
- Vue.js 3 + Composition API
- Vue Router 4（路由管理）
- Pinia（状态管理，替代 Vuex）
- Element Plus（UI 组件库）
- Axios（HTTP 请求）
- ECharts（数据可视化）

**后端技术栈**：
- Egg.js（Node.js 企业级框架）
- MongoDB + Mongoose（数据库和 ODM）
- JWT（身份认证）
- bcryptjs（密码加密）

**开发工具**：
- VS Code + Git（代码管理和版本控制）
- Postman / Apifox（接口测试）
- MongoDB Compass（数据库管理）

### 1.4 核心开发原则

#### 1.4.1 前后端接口对齐（必须严格遵循）
- 每个接口开发前必须定义清晰的接口文档
- 后端接口的入参、出参必须与前端调用完全一致
- 参数名、类型、是否必填必须对齐
- 响应数据结构必须统一：`{ code, message, data }`
- **参考**：查看 `ARCHITECTURE.md` 中的接口规范示例

#### 1.4.2 UI 样式对齐（尽量对齐参考网站）
- 颜色方案参考目标网站的主题色
- 布局采用卡片式设计，圆角阴影
- 使用 Element Plus 组件保持风格统一
- 响应式设计，适配不同屏幕

#### 1.4.3 代码质量要求
- 完善的错误处理（前端显示友好提示，后端返回清晰错误信息）
- 参数验证（前端表单验证 + 后端接口验证）
- 安全措施（密码加密、Token 验证、SQL 注入防护）
- 代码注释清晰，符合规范

## 二、项目架构设计

### 2.1 前后端分离架构

```
前端 (Vue.js 3)         后端 (Egg.js)         数据库 (MongoDB)
    │                        │                      │
    ├─ 用户界面              ├─ RESTful API        ├─ 用户数据
    ├─ 状态管理              ├─ 业务逻辑           ├─ 广告账户
    ├─ API 调用              ├─ 数据模型           ├─ 广告计划
    └─ 路由管理              └─ JWT 认证           └─ 统计数据
```

### 2.2 核心功能模块

1. **用户管理模块**：注册、登录、个人信息、权限控制
2. **广告账户管理**：多平台接入（抖音、快手、微信、微博、知乎）、授权管理
3. **广告计划管理**：创建、编辑、批量操作、状态管理
4. **广告创意管理**：素材上传、创意管理、A/B 测试
5. **数据统计分析**：实时监控、报表生成、可视化大屏
6. **Click-ID 服务**：归因管理、订单明细查询

### 2.3 数据库设计

核心数据表：
- `users`：用户表
- `ad_accounts`：广告账户表
- `ad_plans`：广告计划表
- `ad_creatives`：广告创意表
- `statistics`：数据统计表
- `orders`：订单明细表（Click-ID 相关）

## 三、开发流程

### 3.1 模块开发顺序

1. **基础设施搭建**（模块 01）
2. **用户管理模块**（模块 02）
3. **广告账户管理**（模块 03）
4. **广告计划管理**（模块 04）
5. **广告创意管理**（模块 05）
6. **数据统计与优化**（模块 06）
7. **部署与上线**（模块 07）

### 3.2 每个模块的开发步骤

1. **阅读模块文档**：理解功能需求
2. **参考架构文档**：查看 `ARCHITECTURE.md` 的接口规范
3. **后端开发**：数据库模型 → Controller → Service → 路由
4. **前端开发**：API 定义 → 页面组件 → UI 实现
5. **对齐检查**：验证前后端接口对齐、UI 样式对齐
6. **功能测试**：确保功能完整可用

### 3.3 接口对齐检查清单

每个模块完成后必须检查：
- [ ] 后端接口路径与前端 API 路径一致
- [ ] 请求方法（GET/POST/PUT/DELETE）正确
- [ ] 请求参数名称、类型与前端一致
- [ ] 响应数据结构与前端期望一致
- [ ] 错误响应格式统一

## 四、参考资源

- **参考网站**：https://www.smallfighter.cn/cidProduct.html
- **架构文档**：`ARCHITECTURE.md`（必读）
- **开发向导**：`AGENTS.md`
- **技术文档**：
  - Vue.js 3: https://cn.vuejs.org/
  - Egg.js: https://www.eggjs.org/
  - Element Plus: https://element-plus.org/zh-CN/
  - MongoDB: https://www.mongodb.com/docs/

## 七、总结

本指南提供了买量小飞机项目复刻的总体规划和开发指导。通过本指南，您可以了解到：

1. **项目目标**：复刻买量小飞机的一站式智能投放工具，包括 Click-ID 服务、资源管理、数据监控等功能

2. **技术架构**：前后端分离架构，使用 Vue.js 3 + Egg.js + MongoDB 技术栈

3. **开发原则**：
   - 前后端接口必须严格对齐
   - UI 样式尽量对齐参考网站
   - 代码质量要求高，错误处理完善

4. **开发流程**：按照模块顺序，依次完成基础设施、用户管理、广告账户、计划、创意、统计等功能模块

5. **质量保证**：每个模块完成后进行接口对齐检查和功能测试，确保无阻塞性问题

通过本指南的学习和实践，您可以掌握如何使用现代 Web 技术栈开发一个完整的广告投放管理系统，并将其部署上线。
